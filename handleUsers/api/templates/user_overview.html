{% extends 'layouts/base.html' %}
{% load static %}
{% block title %} User overview {% endblock title %}

<!-- Specific CSS goes HERE -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

    <div class="container-fluid py-4">
        <div class="col-12">
          <div class="card mb-4">
            <div class="card-body px-0 pt-0 pb-2">
              <div class="table-responsive p-0">
                <table class="table align-items-center mb-0">
                  <thead>
                    <tr>
                      <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 col-md-2">Utente</th>
                      <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2 col-md-1">LAN</th>
                      <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 col-md-1">Mail</th>
                      <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 col-md-1 ">Adweb</th>
                      <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 col-md-1">Iteratti</th>
                      <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 col-md-1">Ascot</th>
                      <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 col-md-1">SDI</th>
                      <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 col-md-1">Sito</th>
                      <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 col-md-1">Serv. Scolastici</th>
                      <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 col-md-1">Albo</th>
                      <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 col-md-1"></th>
                    </tr>
                  </thead>
                  <tbody>
                    
                    {% for u in userList %}
                    
                    <tr>
                      <td>
                        <div class="d-flex px-2 py-1">
                          <a href="profile/{{u.id}}" class="text-secondary font-weight-bold text-xs" data-toggle="tooltip" data-original-title="Edit user">
                            <div>
                              {% if u.get_lanRole_display == 'Amministratore'%}
                                <img src= "{% static 'img/admin_mini.jpg' %}"  alt="profile_image" class="avatar avatar-sm avatar-border me-3">
                              {% elif u.get_office_display == 'Politico' %}
                                <img src="{% static 'img/viking_blue.png' %}" class="avatar avatar-sm avatar-border-blue me-3">
                              {% elif u.get_office_display == 'Segreteria' %}
                                <img src="{% static 'img/vikingessa_yellow.png' %}" class="avatar avatar-sm avatar-border-yellow me-3">
                              {% elif u.get_office_display == 'Urp' %}
                                <img src="{% static 'img/viking_yellow.png' %}" class="avatar avatar-sm avatar-border-yellow me-3">
                              {% elif u.get_office_display == 'LLPP' %}
                                <img src="{% static 'img/vikingessa_green.png' %}" class="avatar avatar-sm avatar-border-green me-3">
                              {% else %}
                                <img src="{% static 'img/viking.png' %}" class="avatar avatar-sm avatar-border me-3">
                              {% endif %}
                            </div>
                          </a>
                          <div class="d-flex flex-column justify-content-center">
                            <h6 class="mb-0 text-sm">{{u.name}} {{u.surname}}</h6>
                            <p class="text-xs text-secondary mb-0">{{u.get_office_display}}</p>
                          </div>
                        </div>
                      </td>
                      <td>
                        <p class="text-xs font-weight-bold mb-0">{{u.lan}}</p>
                        <p class="text-xs text-secondary mb-0">{{u.get_lanRole_display}}</p>
                      </td>

                      <td class="align-middle text-center text-sm">
                        <span class="badge badge-sm {% if u.mailDeleted or u.mailOffice == '--'%} bg-gradient-danger {% else %} bg-gradient-success {% endif %}">
                          {% if u.mailDeleted or u.mailOffice == '--'%}  No {% else %} Ok {% endif %}
                        </span>
                      </td>
                      
                      <td class="align-middle text-center text-sm">
                        <span class="badge badge-sm {% if u.adwebDeleted or u.get_adwebOffice_display == '--'%} bg-gradient-danger {% else %} bg-gradient-success {% endif %}">
                          {% if u.adwebDeleted or u.get_adwebOffice_display == '--'%} No {% else %} Ok {% endif %}
                        </span>
                      </td>

                      <td class="align-middle text-center text-sm">
                        <span class="badge badge-sm {% if u.iterattiDeleted or u.get_iterattiOffice_display == '--'%} bg-gradient-danger {% else %} bg-gradient-success {% endif %}">
                          {% if u.iterattiDeleted or u.get_iterattiOffice_display == '--'%} No {% else %} Ok {% endif %}
                        </span>
                      </td>

                      <td class="align-middle text-center text-sm">
                        <span class="badge badge-sm {% if u.ascotDeleted or u.get_ascotOffice_display == '--'%} bg-gradient-danger {% else %} bg-gradient-success {% endif %}">
                          {% if u.ascotDeleted or u.get_ascotOffice_display == '--'%} No {% else %} Ok {% endif %}
                        </span>
                      </td>

                      <td class="align-middle text-center text-sm">
                        <span class="badge badge-sm {% if u.sdiDeleted or u.get_sdiOffice_display == '--'%} bg-gradient-danger {% else %} bg-gradient-success {% endif %}">
                          {% if u.sdiDeleted or u.get_sdiOffice_display == '--'%} No {% else %} Ok {% endif %}
                        </span>
                      </td>

                      <td class="align-middle text-center text-sm">
                        <span class="badge badge-sm {% if u.websiteDeleted or u.get_websiteRole_display == '--'%} bg-gradient-danger {% else %} bg-gradient-success {% endif %}">
                          {% if u.websiteDeleted or u.get_websiteRole_display == '--'%} No {% else %} Ok {% endif %}
                        </span>
                      </td>

                      <td class="align-middle text-center text-sm">
                        <span class="badge badge-sm {% if u.servScolDeleted or u.get_servScolRole_display == '--'%} bg-gradient-danger {% else %} bg-gradient-success {% endif %}">
                          {% if u.servScolDeleted or u.get_servScolRole_display == '--'%} No {% else %} Ok {% endif %}
                        </span>
                      </td>

                      <td class="align-middle text-center text-sm">
                        <span class="badge badge-sm {% if u.alboPretDeleted or u.get_alboPretRole_display == '--'%} bg-gradient-danger {% else %} bg-gradient-success {% endif %}">
                          {% if u.servScolDeleted or u.get_alboPretRole_display == '--'%} No {% else %} Ok {% endif %}
                        </span>
                      </td>

                      <td class="align-middle">
                        <a href="profile/{{u.id}}" class="text-secondary font-weight-bold text-xs" data-toggle="tooltip" data-original-title="Edit user">
                          Dettagli
                        </a>
                      </td>
                    </tr>

                    {% endfor %}
                    
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      {% include "includes/footer.html" %}

    </div>
    
{% endblock content %}

<!-- Specific JS goes HERE --> 
{% block javascripts %}{% endblock javascripts %}
